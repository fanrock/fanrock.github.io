<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Shopmessage multiple checkbox demo</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- START SHOPMESSAGE -->
<script type="text/javascript">
window.lightningjs||function(s){var w="lightningjs";function e(e,t){var r,v,g,n,a,d;return t&&(t+=(/\?/.test(t)?"&":"?")+"lv=1"),s[e]||(r=window,v=document,g=e,n=v.location.protocol,a="load",d=0,function(){s[g]=function(){var e=arguments,t=this,i=++d,n=t&&t!=r&&t.id||0;function o(){return o.id=i,s[g].apply(o,arguments)}return(m.s=m.s||[]).push([i,n,e]),o.then=function(e,t,n){var r=m.fh[i]=m.fh[i]||[],a=m.eh[i]=m.eh[i]||[],d=m.ph[i]=m.ph[i]||[];return e&&r.push(e),t&&a.push(t),n&&d.push(n),o},o};var m=s[g]._={};function e(){m.P(a),m.w=1,s[g]("_load")}m.fh={},m.eh={},m.ph={},m.l=t?t.replace(/^\/\//,("https:"==n?n:"http:")+"//"):t,m.p={0:+new Date},m.P=function(e){m.p[e]=new Date-m.p[0]},m.w&&e(),r.addEventListener?r.addEventListener(a,e,!1):r.attachEvent("on"+a,e);var f=function(){function t(){return["<head></head><",e,' onload="var d=',h,";d.getElementsByTagName('head')[0].",a,"(d.",d,"('script')).",i,"='",m.l,"'\"></",e,">"].join("")}var e="body",n=v[e];if(!n)return setTimeout(f,100);m.P(1);var r,a="appendChild",d="createElement",i="src",o=v[d]("div"),s=o[a](v[d]("div")),c=v[d]("iframe"),h="document",p="domain",l="contentWindow";o.style.display="none",n.insertBefore(o,n.firstChild).id=w+"-"+g,c.frameBorder="0",c.id=w+"-frame-"+g,/MSIE[ ]+6/.test(navigator.userAgent)&&(c[i]="javascript:false"),c.allowTransparency="true",s[a](c);try{c[l][h].open()}catch(e){m[p]=v[p],r="javascript:var d="+h+".open();d.domain='"+v.domain+"';",c[i]=r+"void(0);"}try{var u=c[l][h];u.write(t()),u.close()}catch(e){c[i]=r+'d.write("'+t().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}m.P(2)};m.l&&f()}()),s[e].lv="1",s[e]}var t=window[w]=e(w);t.require=e,t.modules=s}({}),window._shopmsg=lightningjs.require("_shopmsg","https://cdn.shopmsg.me/v1.0/shopmsg_sdk.js?c=7f1112aa6257bb1d0d433dd475567db63b4b040c"),function(e,t,n){var r,a=e.getElementsByTagName(t)[0];e.getElementById(n)||((r=e.createElement(t)).id=n,r.src="https://cdn.shopmsg.me/platform/B1PCKaEsxYqA/v1.0/initialize.js?c=7f1112aa6257bb1d0d433dd475567db63b4b040c",a.parentNode.insertBefore(r,a))}(document,"script","shopmsg-jssdk");
</script>
<!-- END SHOPMESSAGE -->
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <div>
    <div id="checkbox1"></div>
    <button id="confirm1">Confirm Optin #1</button>
  </div>
  
  <hr />
  
  <div>
    <div id="checkbox2"></div>
    <button id="confirm2">Confirm Optin #2</button>
  </div>

<script type="text/javascript">
(function iife() {
  var checkboxContainer1 = document.getElementById('checkbox1'), button1 = document.getElementById('confirm1');
  var checkboxContainer2 = document.getElementById('checkbox2'), button2 = document.getElementById('confirm2');
  
  _shopmsg("checkbox.create", checkboxContainer1, {"center_align":false}, function(checkbox1) {
    button1.onclick = function() {
      checkbox1.confirmOptin();
    };
  });
  
  _shopmsg("checkbox.create", checkboxContainer2, {"center_align":true}, function(checkbox2) {
    button2.onclick = function() {
      checkbox2.confirmOptin();
    };
  });
  
}());
</script>  
</body>

</html>
